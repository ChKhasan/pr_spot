(window.webpackJsonp=window.webpackJsonp||[]).push([[10,4],{1003:function(e,t,r){"use strict";r.r(t);r(149),r(179),r(106),r(69),r(319),r(87),r(105),r(150),r(88),r(151);var n=r(75),o=r(57),c=r(20),l=(r(78),r(44),r(85),r(86),r(153),r(178),r(306)),d=r(4),h=r.n(d);function v(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}function C(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?v(Object(source),!0).forEach((function(t){Object(n.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):v(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var f={components:{Loader:l.default},data:function(){return{mynomer:null,active_category:null,orders:[],new_images:[],images:[],loading:!1,cat_orders:[],searchVal:"",tab:"",options:[{value:"CARD",label:"Визитка"},{value:"BANNER",label:"Баннер"},{value:"CATALOG",label:"Каталог"},{value:"BOOK",label:"Книга"},{value:"STAND",label:"Стенд"},{value:"CLOTHEPRINT",label:"Одежда печать"},{value:"FLYER",label:"Флайер"},{value:"OTHER",label:"Другие"}],value:"",timeout:null}},asyncData:function(e){return Object(c.a)(regeneratorRuntime.mark((function t(){var r,n,c,l,d,h,v,f,m,w;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.store,n=e.query,t.next=3,Promise.all([r.dispatch("fetchCategories/getCategories"),r.dispatch("fetchOrders/getOrders",{params:C({},n)}),r.dispatch("fetchOrders/getOrders")]);case 3:return c=t.sent,l=Object(o.a)(c,3),d=l[0],h=l[1],v=l[2],f=null==d?void 0:d.results,m=null==h?void 0:h.results,w=null==v?void 0:v.count,t.abrupt("return",{categories:f,orders:m,totalCount:w});case 12:case"end":return t.stop()}}),t)})))()},watch:{tab:function(e){var t=this;return Object(c.a)(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!e){r.next=6;break}return r.next=3,t.$router.replace({path:"order",query:{category:e}});case 3:t.__GET_ORDERS(),r.next=9;break;case 6:return r.next=8,t.$router.replace({path:"order",query:{}});case 8:t.__GET_ORDERS();case 9:t.searchVal="";case 10:case"end":return r.stop()}}),r)})))()},searchVal:function(e){this.changeSearch(e)}},methods:{__GET_ORDERS:function(){var e=this;return Object(c.a)(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,e.loading=!0,t.next=4,e.$store.dispatch("fetchOrders/getOrders",{params:C({},e.$route.query)});case 4:r=t.sent,e.loading=!1,e.orders=null==r?void 0:r.results,t.next=11;break;case 9:t.prev=9,t.t0=t.catch(0);case 11:case"end":return t.stop()}}),t,null,[[0,9]])})))()},moment:h.a,changeSearch:function(e){var t=this;return Object(c.a)(regeneratorRuntime.mark((function r(){var n;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!(e.length>2)){r.next=7;break}if((null===(n=t.$route.query)||void 0===n?void 0:n.search)==e){r.next=4;break}return r.next=4,t.$router.replace({path:"order",query:C(C({},t.$route.query),{},{search:e})});case 4:e==t.$route.query.search&&t.__GET_ORDERS(),r.next=8;break;case 7:0==e.length&&t.clearQuery("order","__GET_ORDERS");case 8:case"end":return r.stop()}}),r)})))()},clearQuery:function(e,t){var r=this;return Object(c.a)(regeneratorRuntime.mark((function n(){var o,c;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(delete(c=C({},r.$route.query)).search,null===(o=r.$route.query)||void 0===o||!o.search){n.next=6;break}return n.next=5,r.$router.replace({path:e,query:C({},c)});case 5:r[t]();case 6:case"end":return n.stop()}}),n)})))()},filterCat:function(){var e=this;this.$axios.get("/api/orders",{params:{category:this.tab}}).then((function(t){e.orders=t&&t.data&&t.data.result&&t.data.result.orders}))},search:function(){var e=this;this.timeout&&clearTimeout(this.timeout),this.timeout=setTimeout((function(){e.$axios.get("/api/orders",{params:{searchWord:e.search_text}}).then((function(t){e.orders=t&&t.data&&t.data.result&&t.data.result.orders}))}),500)}},mounted:function(){var e=this;return Object(c.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:console.log(Object.keys(e.$route.query));case 1:case"end":return t.stop()}}),t)})))()}},m=r(53),component=Object(m.a)(f,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"section"},[t("div",{staticClass:"container_xl"},[t("div",{staticClass:"section_block home_order mt-0 pt-0"},[t("h2",{staticClass:"mb-32"},[e._v("Все заказы")]),e._v(" "),t("div",{staticClass:"order"},[t("div",{staticClass:"dv order_tabs"},[t("h3",[e._v("Категория")]),e._v(" "),t("div",{staticClass:"flex flex-col gap-12 mt-20 justify-center"},[t("div",{staticClass:"order_tab",class:{active:!Object.keys(e.$route.query).includes("category")},on:{click:function(t){e.tab=null}}},[t("div",{staticClass:"flex items-center gap-12"},[t("Icons",{attrs:{color:"#FFF9F5",icon:"pen"}}),e._v("Все заказы\n              ")],1),e._v(" "),t("span",[e._v(e._s(e.totalCount))])]),e._v(" "),e._l(e.categories,(function(r,n){return t("div",{key:n,staticClass:"order_tab",class:{active:e.$route.query.category==r.id},on:{click:function(t){e.tab=r.id}}},[t("div",{staticClass:"flex items-center gap-12"},[t("Icons",{attrs:{color:e.tab==r.id?"#000000":"#FFF9F5",icon:"pen"}}),e._v(e._s(r.title)+"\n              ")],1),e._v(" "),t("span",[e._v(e._s(null==r?void 0:r.order_count))])])}))],2)]),e._v(" "),t("div",{staticClass:"mv select_category"},[t("h3",[e._v("Категория")]),e._v(" "),t("el-select",{attrs:{clearable:"",placeholder:"Bыберите"},model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},e._l(e.categories,(function(r,n){return t("el-option",{key:n,attrs:{label:r.title,value:r.id},on:{change:e.filterCat}},[t("span",[e._v(e._s(r.title))]),e._v(" "),t("span",{staticStyle:{color:"#ff5c00",background:"#fff9f5","border-radius":"50%",padding:"5px","margin-left":"10px"}},[e._v("(1)")])])})),1)],1),e._v(" "),t("div",{staticClass:"orders"},[t("div",{staticClass:"order_top"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.searchVal,expression:"searchVal"}],attrs:{placeholder:"Поиск заказов",type:"text"},domProps:{value:e.searchVal},on:{input:[function(t){t.target.composing||(e.searchVal=t.target.value)},e.search]}}),e._v(" "),t("nuxt-link",{staticClass:"public_order w-screen dv",attrs:{tag:"button",to:"/order/add"}},[t("img",{attrs:{src:r(948),alt:""}}),e._v(" Опубликовать\n              заказ")])],1),e._v(" "),e.loading?t("div",{staticClass:"spin__container"},[t("a-spin",{attrs:{size:"large"}})],1):t("div",{staticClass:"flex flex-col gap-8"},e._l(e.orders,(function(e){return t("OrderCard",{key:null==e?void 0:e.id,attrs:{order:e}})})),1)])])])])])}),[],!1,null,null,null);t.default=component.exports;installComponents(component,{Icons:r(947).default})},947:function(e,t,r){"use strict";r.r(t);var n={name:"chosenIcon",data:function(){return{icons:{myorder:'\n        <path fill-rule="evenodd" clip-rule="evenodd" d="M13.197 19.8637C11.4313 21.6294 8.56866 21.6294 6.803 19.8637C5.03735 18.0981 5.03735 15.2354 6.803 13.4698L12.1363 8.13642C13.1656 7.10714 14.8344 7.10714 15.8637 8.13642C16.8929 9.16569 16.8929 10.8345 15.8637 11.8637L10.5303 17.1971C10.2374 17.49 9.76256 17.49 9.46967 17.1971C9.17678 16.9042 9.17678 16.4293 9.46967 16.1364L14.803 10.8031C15.2465 10.3596 15.2465 9.64056 14.803 9.19708C14.3595 8.75359 13.6405 8.75359 13.197 9.19708L7.86366 14.5304C6.6838 15.7103 6.6838 17.6232 7.86366 18.8031C9.04353 19.983 10.9565 19.983 12.1363 18.8031L17.4697 13.4697C19.3859 11.5535 19.3859 8.44666 17.4697 6.53041C15.5534 4.61416 12.4466 4.61416 10.5303 6.53041L5.197 11.8637C4.9041 12.1566 4.42923 12.1566 4.13634 11.8637C3.84344 11.5709 3.84344 11.096 4.13634 10.8031L9.46967 5.46975C11.9717 2.96772 16.0283 2.96772 18.5303 5.46975C21.0324 7.97178 21.0324 12.0284 18.5303 14.5304L13.197 19.8637Z" fill="currentColor"/>\n        ',settings:'\n        <path d="M11.1515 20H12.8485C13.7857 20 14.5455 19.2837 14.5455 18.4C14.5455 17.3888 15.6274 16.7459 16.5156 17.2294L16.6058 17.2785C17.4174 17.7203 18.4553 17.4581 18.9239 16.6928L19.7724 15.3072C20.241 14.5419 19.9629 13.5634 19.1512 13.1215C18.2627 12.6378 18.2627 11.3622 19.1512 10.8785C19.9629 10.4366 20.241 9.45808 19.7724 8.69281L18.9239 7.30717C18.4553 6.54191 17.4174 6.27971 16.6058 6.72153L16.5156 6.77064C15.6274 7.25411 14.5455 6.61121 14.5455 5.6C14.5455 4.71634 13.7857 4 12.8485 4H11.1515C10.2143 4 9.45454 4.71634 9.45454 5.6C9.45454 6.61122 8.37259 7.25412 7.48444 6.77065L7.39424 6.72155C6.58259 6.27972 5.54474 6.54192 5.07613 7.30719L4.22764 8.69283C3.75904 9.45809 4.03713 10.4366 4.84878 10.8785C5.73734 11.3622 5.73734 12.6378 4.84878 13.1215C4.03713 13.5634 3.75904 14.5419 4.22764 15.3072L5.07613 16.6928C5.54474 17.4581 6.58259 17.7203 7.39424 17.2785L7.48444 17.2294C8.37259 16.7459 9.45454 17.3888 9.45454 18.4C9.45454 19.2837 10.2143 20 11.1515 20Z" stroke="currentColor" stroke-width="1.5" stroke-linejoin="round"/>\n        <circle cx="12" cy="12" r="3" transform="rotate(-180 12 12)" stroke="currentColor" stroke-width="1.5"/>\n        ',success:'\n        <path d="M8 12L10.5347 14.2812C10.9662 14.6696 11.6366 14.6101 11.993 14.1519L16 9M12 22C17.5228 22 22 17.5228 22 12C22 6.47715 17.5228 2 12 2C6.47715 2 2 6.47715 2 12C2 17.5228 6.47715 22 12 22Z" stroke="'.concat(this.color,'" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>\n        '),eye:'\n        <path d="M14.6669 11.946C14.6669 13.419 13.4729 14.613 11.9999 14.613C10.5269 14.613 9.33295 13.419 9.33295 11.946C9.33295 10.473 10.5269 9.279 11.9999 9.279M3.75024 11.9465C5.16652 8.80222 8.3276 6.61328 11.9999 6.61328C15.6723 6.61328 18.8334 8.80222 20.2497 11.9465C18.8334 15.0908 15.6723 17.2798 11.9999 17.2798C8.3276 17.2798 5.16652 15.0908 3.75024 11.9465Z" stroke="currentColor" stroke-width="1.5" stroke-miterlimit="10" stroke-linecap="round" stroke-linejoin="round"/>\n        ',message:'\n        <path d="M8.83984 10.6975L8.84165 10.6946M12 10.6975L12.0018 10.6946M15.1602 10.6975L15.162 10.6946M17 5.35791H7C5.343 5.35791 4 6.70091 4 8.35791V13.0219C4 14.6789 5.343 16.0219 7 16.0219H8.315L8.327 19.8629L12.798 16.0219H17C18.657 16.0219 20 14.6789 20 13.0219V8.35791C20 6.70091 18.657 5.35791 17 5.35791Z" stroke="#5D5D5F" stroke-width="1.5" stroke-miterlimit="10" stroke-linecap="round" stroke-linejoin="round"/>\n        ',pen:'\n        <path d="M1.5 16.5H16.5M10.487 3.42643C10.487 3.42643 10.487 4.78861 11.8492 6.1508C13.2114 7.51299 14.5736 7.51299 14.5736 7.51299M5.09969 13.9901L7.96028 13.5814C8.37291 13.5225 8.7553 13.3313 9.05003 13.0365L15.9358 6.1508C16.6881 5.39848 16.6881 4.17874 15.9358 3.42642L14.5736 2.06424C13.8213 1.31192 12.6015 1.31192 11.8492 2.06424L4.96347 8.94997C4.66873 9.2447 4.47754 9.62709 4.41859 10.0397L4.00994 12.9003C3.91913 13.536 4.464 14.0809 5.09969 13.9901Z" stroke="currentColor" stroke-width="1.2" stroke-linecap="round"/>\n        ',telegram:'\n        <path d="M2.89645 10.7964L18.2851 4.14575C19.0088 3.833 19.7929 4.44159 19.6695 5.22023L17.5655 18.4962C17.4355 19.3162 16.4206 19.6299 15.8506 19.0262L12.3977 15.3686C11.7206 14.6514 11.6675 13.5475 12.2727 12.7686L14.7107 9.63084C14.8501 9.45146 14.63 9.21549 14.4414 9.34204L9.59406 12.5939C8.77148 13.1457 7.77341 13.3727 6.79309 13.2309L3.15003 12.704C2.15204 12.5597 1.97083 11.1964 2.89645 10.7964Z" fill="#3C4BDC"/>\n        '}}},computed:{chosenIcon:function(){return this.icons[this.icon]}},props:{icon:String,size:String,color:String,id:String}},o=r(53),component=Object(o.a)(n,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"icon",class:this.color,attrs:{id:e.id}},["sm"==this.size?t("svg",{attrs:{id:e.id,width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},domProps:{innerHTML:e._s(e.chosenIcon)}}):"middle"==this.size?t("svg",{attrs:{id:e.id,width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},domProps:{innerHTML:e._s(e.chosenIcon)}}):"32"==this.size?t("svg",{attrs:{id:e.id,width:"32",height:"32",viewBox:"0 0 24 24 ",fill:"none",mlns:"http://www.w3.org/2000/svg"},domProps:{innerHTML:e._s(e.chosenIcon)}}):"large"==this.size?t("svg",{attrs:{id:e.id,width:"36",height:"36",viewBox:"0 0 24 24 ",fill:"none",mlns:"http://www.w3.org/2000/svg"},domProps:{innerHTML:e._s(e.chosenIcon)}}):"48"==this.size?t("svg",{attrs:{id:e.id,width:"48",height:"48",viewBox:"0 0 24 24 ",fill:"none",mlns:"http://www.w3.org/2000/svg"},domProps:{innerHTML:e._s(e.chosenIcon)}}):t("svg",{attrs:{id:e.id,width:"24",height:"24",viewBox:"0 0 24 24 ",fill:"none",mlns:"http://www.w3.org/2000/svg"},domProps:{innerHTML:e._s(e.chosenIcon)}})])}),[],!1,null,null,null);t.default=component.exports},948:function(e,t){e.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjUiIHZpZXdCb3g9IjAgMCAyNCAyNSIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZD0iTTEyIDguNVYxNi41TTE2IDEyLjVIOE0xOCAyLjVINkMzLjc5MDg2IDIuNSAyIDQuMjkwODYgMiA2LjVWMTguNUMyIDIwLjcwOTEgMy43OTA4NiAyMi41IDYgMjIuNUgxOEMyMC4yMDkxIDIyLjUgMjIgMjAuNzA5MSAyMiAxOC41VjYuNUMyMiA0LjI5MDg2IDIwLjIwOTEgMi41IDE4IDIuNVoiIHN0cm9rZT0iI0ZGNUMwMCIgc3Ryb2tlLXdpZHRoPSIxLjUiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIvPgo8L3N2Zz4K"}}]);